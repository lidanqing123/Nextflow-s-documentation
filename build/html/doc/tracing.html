

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tracing &amp; visualisation &mdash; Nextflow-ZH-documentation 0.0.1 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Pipeline sharing" href="sharing.html" />
    <link rel="prev" title="Kubernetes" href="kubernetes.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Nextflow-ZH-documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">开始</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">基本理念</a></li>
<li class="toctree-l1"><a class="reference internal" href="script.html">Nextflow 脚本语言</a></li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="channel.html">Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="operator.html">Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="executor.html">Executors</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="awscloud.html">Amazon Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="amazons3.html">Amazon S3 storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="google.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="conda.html">Conda environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity.html">Singularity containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ignite.html">Apache Ignite</a></li>
<li class="toctree-l1"><a class="reference internal" href="kubernetes.html">Kubernetes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tracing &amp; visualisation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#execution-report">Execution report</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resource-usage">Resource Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tasks">Tasks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#trace-report">Trace report</a></li>
<li class="toctree-l2"><a class="reference internal" href="#timeline-report">Timeline report</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dag-visualisation">DAG visualisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#weblog-via-http">Weblog via HTTP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#weblog-submit-example-message">Weblog Submit example message</a></li>
<li class="toctree-l3"><a class="reference internal" href="#weblog-completed-example-message">Weblog Completed example message</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sharing.html">Pipeline sharing</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Workflow introspection</a></li>
<li class="toctree-l1"><a class="reference internal" href="mail.html">Mail &amp; Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nextflow-ZH-documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Tracing &amp; visualisation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/doc/tracing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tracing-visualisation">
<span id="perfanalysis-page"></span><h1>Tracing &amp; visualisation<a class="headerlink" href="#tracing-visualisation" title="永久链接至标题">¶</a></h1>
<div class="section" id="execution-report">
<span id="id1"></span><h2>Execution report<a class="headerlink" href="#execution-report" title="永久链接至标题">¶</a></h2>
<p>Nextflow can create an HTML execution report: a single document which includes many useful metrics
about a workflow execution. The report is organised in the three main sections: <cite>Summary</cite>, <cite>Resources</cite> and <cite>Tasks</cite>
(see below for details).</p>
<p>To enable the creation of this report add the <code class="docutils literal notranslate"><span class="pre">-with-report</span></code> command line option when launching the pipeline
execution. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">run</span> <span class="o">&lt;</span><span class="n">pipeline</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">report</span> <span class="p">[</span><span class="n">file</span> <span class="n">name</span><span class="p">]</span>
</pre></div>
</div>
<p>The report file name can be specified as an optional parameter following the report option.</p>
<div class="section" id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="永久链接至标题">¶</a></h3>
<p>The <cite>Summary</cite> section reports the execution status, the launch command, overall execution time and some
other workflow metadata. You can see an example below:</p>
<img alt="../_images/report-summary-min.png" src="../_images/report-summary-min.png" />
</div>
<div class="section" id="resource-usage">
<h3>Resource Usage<a class="headerlink" href="#resource-usage" title="永久链接至标题">¶</a></h3>
<p>The <cite>Resources</cite> sections plots the distributions of resource usages for each workflow process
using the interactive <a class="reference external" href="https://plot.ly/javascript/">plotly.js</a> plotting library.</p>
<p>Plots are shown for CPU, memory, job duration and disk I/O. They have two (or three) tabs with the raw values and a percentage representation showing what proportion of the requested resources
were used. These plots are very helpful to check that job pipeline requests are efficient.</p>
<img alt="../_images/report-resource-cpu.png" src="../_images/report-resource-cpu.png" />
<p>Learn more about how resource usage are computed in the <a class="reference internal" href="metrics.html#metrics-page"><span class="std std-ref">Metrics documentation</span></a>.</p>
</div>
<div class="section" id="tasks">
<h3>Tasks<a class="headerlink" href="#tasks" title="永久链接至标题">¶</a></h3>
<p>Finally the <cite>Tasks</cite> section lists all executed tasks reporting for each of them, the status, the actual command script
and many other runtime metrics. You can see an example below:</p>
<img alt="../_images/report-tasks-min.png" src="../_images/report-tasks-min.png" />
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">Nextflow collect these metrics running a background process for each job in the target environment.
Make sure the following tools are available <code class="docutils literal notranslate"><span class="pre">ps</span></code>, <code class="docutils literal notranslate"><span class="pre">date</span></code>, <code class="docutils literal notranslate"><span class="pre">sed</span></code>, <code class="docutils literal notranslate"><span class="pre">grep</span></code>, <code class="docutils literal notranslate"><span class="pre">egrep</span></code>, <code class="docutils literal notranslate"><span class="pre">awk</span></code>, <code class="docutils literal notranslate"><span class="pre">tail</span></code> in the
system where the jobs are executed. Moreover some of these metrics are not reported when using a Mac OSX system. See the note
message about that in the <a class="reference external" href="trace-report">Trace report</a> below.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">A common problem when using a third party container image is that it does not ship one or more of the
above utilities resulting in an empty execution report.</p>
</div>
<p>Please read <a class="reference internal" href="config.html#config-report"><span class="std std-ref">Report scope</span></a> section to learn more about the execution report configuration details.</p>
</div>
</div>
<div class="section" id="trace-report">
<span id="id2"></span><h2>Trace report<a class="headerlink" href="#trace-report" title="永久链接至标题">¶</a></h2>
<p>Nextflow creates an execution tracing file that contains some useful information about each process executed in your pipeline
script, including: submission time, start time, completion time, cpu and memory used.</p>
<p>In order to create the execution trace file add the <code class="docutils literal notranslate"><span class="pre">-with-trace</span></code> command line option when launching the pipeline execution.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">run</span> <span class="o">&lt;</span><span class="n">pipeline</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">trace</span>
</pre></div>
</div>
<p>It will create a file named <code class="docutils literal notranslate"><span class="pre">trace.txt</span></code> in the current directory. The content looks like the above example:</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="6%" />
<col width="6%" />
<col width="10%" />
<col width="7%" />
<col width="5%" />
<col width="15%" />
<col width="7%" />
<col width="7%" />
<col width="5%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">task_id</th>
<th class="head">hash</th>
<th class="head">native_id</th>
<th class="head">name</th>
<th class="head">status</th>
<th class="head">exit</th>
<th class="head">submit</th>
<th class="head">duration</th>
<th class="head">walltime</th>
<th class="head">%cpu</th>
<th class="head">rss</th>
<th class="head">vmem</th>
<th class="head">rchar</th>
<th class="head">wchar</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>19</td>
<td>45/ab752a</td>
<td>2032</td>
<td>blast (1)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:33:16.288</td>
<td>1m</td>
<td>5s</td>
<td>0.0%</td>
<td>29.8 MB</td>
<td>354 MB</td>
<td>33.3 MB</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>20</td>
<td>72/db873d</td>
<td>2033</td>
<td>blast (2)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:34:17.211</td>
<td>30s</td>
<td>10s</td>
<td>35.7%</td>
<td>152.8 MB</td>
<td>428.1 MB</td>
<td>192.7 MB</td>
<td>1 MB</td>
</tr>
<tr class="row-even"><td>21</td>
<td>53/d13188</td>
<td>2034</td>
<td>blast (3)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:34:17.518</td>
<td>29s</td>
<td>20s</td>
<td>4.5%</td>
<td>289.5 MB</td>
<td>381.6 MB</td>
<td>33.3 MB</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>22</td>
<td>26/f65116</td>
<td>2035</td>
<td>blast (4)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:34:18.459</td>
<td>30s</td>
<td>9s</td>
<td>6.0%</td>
<td>122.8 MB</td>
<td>353.4 MB</td>
<td>33.3 MB</td>
<td>0</td>
</tr>
<tr class="row-even"><td>23</td>
<td>88/bc00e4</td>
<td>2036</td>
<td>blast (5)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:34:18.507</td>
<td>30s</td>
<td>19s</td>
<td>5.0%</td>
<td>195 MB</td>
<td>395.8 MB</td>
<td>65.3 MB</td>
<td>121 KB</td>
</tr>
<tr class="row-odd"><td>24</td>
<td>74/2556e9</td>
<td>2037</td>
<td>blast (6)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:34:18.553</td>
<td>30s</td>
<td>12s</td>
<td>43.6%</td>
<td>140.7 MB</td>
<td>432.2 MB</td>
<td>192.7 MB</td>
<td>182.7 MB</td>
</tr>
<tr class="row-even"><td>28</td>
<td>b4/0f9613</td>
<td>2041</td>
<td>exonerate (1)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:38:19.657</td>
<td>1m 30s</td>
<td>1m 11s</td>
<td>94.3%</td>
<td>611.6 MB</td>
<td>693.8 MB</td>
<td>961.2 GB</td>
<td>6.1 GB</td>
</tr>
<tr class="row-odd"><td>32</td>
<td>af/7f2f57</td>
<td>2044</td>
<td>exonerate (4)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:46:50.902</td>
<td>1m 1s</td>
<td>38s</td>
<td>36.6%</td>
<td>115.8 MB</td>
<td>167.8 MB</td>
<td>364 GB</td>
<td>5.1 GB</td>
</tr>
<tr class="row-even"><td>33</td>
<td>37/ab1fcc</td>
<td>2045</td>
<td>exonerate (5)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:47:51.625</td>
<td>30s</td>
<td>12s</td>
<td>59.6%</td>
<td>696 MB</td>
<td>734.6 MB</td>
<td>354.3 GB</td>
<td>420.4 MB</td>
</tr>
<tr class="row-odd"><td>31</td>
<td>d7/eabe51</td>
<td>2042</td>
<td>exonerate (3)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:45:50.846</td>
<td>3m 1s</td>
<td>2m 6s</td>
<td>130.1%</td>
<td>703.3 MB</td>
<td>760.9 MB</td>
<td>1.1 TB</td>
<td>28.6 GB</td>
</tr>
<tr class="row-even"><td>36</td>
<td>c4/d6cc15</td>
<td>2048</td>
<td>exonerate (6)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:48:48.718</td>
<td>3m 1s</td>
<td>2m 43s</td>
<td>116.6%</td>
<td>682.1 MB</td>
<td>743.6 MB</td>
<td>868.5 GB</td>
<td>42 GB</td>
</tr>
<tr class="row-odd"><td>30</td>
<td>4f/1ad1f0</td>
<td>2043</td>
<td>exonerate (2)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 16:45:50.961</td>
<td>10m 2s</td>
<td>9m 16s</td>
<td>95.5%</td>
<td>706.2 MB</td>
<td>764 MB</td>
<td>1.6 TB</td>
<td>172.4 GB</td>
</tr>
<tr class="row-even"><td>52</td>
<td>72/41d0c6</td>
<td>2055</td>
<td>similarity (1)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 17:13:23.543</td>
<td>30s</td>
<td>352ms</td>
<td>0.0%</td>
<td>35.6 MB</td>
<td>58.3 MB</td>
<td>199.3 MB</td>
<td>7.9 MB</td>
</tr>
<tr class="row-odd"><td>57</td>
<td>9b/111b5e</td>
<td>2058</td>
<td>similarity (6)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 17:13:23.655</td>
<td>30s</td>
<td>488ms</td>
<td>0.0%</td>
<td>108.2 MB</td>
<td>158 MB</td>
<td>317.1 MB</td>
<td>9.8 MB</td>
</tr>
<tr class="row-even"><td>53</td>
<td>3e/bca30f</td>
<td>2061</td>
<td>similarity (2)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 17:13:23.770</td>
<td>30s</td>
<td>238ms</td>
<td>0.0%</td>
<td>6.7 MB</td>
<td>29.6 MB</td>
<td>190 MB</td>
<td>91.2 MB</td>
</tr>
<tr class="row-odd"><td>54</td>
<td>8b/d45b47</td>
<td>2062</td>
<td>similarity (3)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 17:13:23.808</td>
<td>30s</td>
<td>442ms</td>
<td>0.0%</td>
<td>108.1 MB</td>
<td>158 MB</td>
<td>832 MB</td>
<td>565.6 MB</td>
</tr>
<tr class="row-even"><td>55</td>
<td>51/ac19c6</td>
<td>2064</td>
<td>similarity (4)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 17:13:23.873</td>
<td>30s</td>
<td>6s</td>
<td>0.0%</td>
<td>112.7 MB</td>
<td>162.8 MB</td>
<td>4.9 GB</td>
<td>3.9 GB</td>
</tr>
<tr class="row-odd"><td>56</td>
<td>c3/ec5f4a</td>
<td>2066</td>
<td>similarity (5)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 17:13:23.948</td>
<td>30s</td>
<td>616ms</td>
<td>0.0%</td>
<td>10.4 MB</td>
<td>34.6 MB</td>
<td>238 MB</td>
<td>8.4 MB</td>
</tr>
<tr class="row-even"><td>98</td>
<td>de/d6c0a6</td>
<td>2099</td>
<td>matrix (1)</td>
<td>COMPLETED</td>
<td>0</td>
<td>2014-10-23 17:14:27.139</td>
<td>30s</td>
<td>1s</td>
<td>0.0%</td>
<td>4.8 MB</td>
<td>42 MB</td>
<td>240.6 MB</td>
<td>79 KB</td>
</tr>
</tbody>
</table>
<p id="trace-fields">The following table shows the fields that can be included in the execution report:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>task_id</td>
<td>Task ID.</td>
</tr>
<tr class="row-odd"><td>hash</td>
<td>Task hash code.</td>
</tr>
<tr class="row-even"><td>native_id</td>
<td>Task ID given by the underlying execution system e.g. POSIX process PID when executed locally, job ID when executed by a grid engine, etc.</td>
</tr>
<tr class="row-odd"><td>process</td>
<td>Nextflow process name.</td>
</tr>
<tr class="row-even"><td>tag</td>
<td>User provided identifier associated this task.</td>
</tr>
<tr class="row-odd"><td>name</td>
<td>Task name.</td>
</tr>
<tr class="row-even"><td>status</td>
<td>Task status.</td>
</tr>
<tr class="row-odd"><td>exit</td>
<td>POSIX process exit status.</td>
</tr>
<tr class="row-even"><td>module</td>
<td>Environment module used to run the task.</td>
</tr>
<tr class="row-odd"><td>container</td>
<td>Docker image name used to execute the task.</td>
</tr>
<tr class="row-even"><td>cpus</td>
<td>The cpus number request for the task execution.</td>
</tr>
<tr class="row-odd"><td>time</td>
<td>The time request for the task execution</td>
</tr>
<tr class="row-even"><td>disk</td>
<td>The disk space request for the task execution.</td>
</tr>
<tr class="row-odd"><td>memory</td>
<td>The memory request for the task execution.</td>
</tr>
<tr class="row-even"><td>attempt</td>
<td>Attempt at which the task completed.</td>
</tr>
<tr class="row-odd"><td>submit</td>
<td>Timestamp when the task has been submitted.</td>
</tr>
<tr class="row-even"><td>start</td>
<td>Timestamp when the task execution has started.</td>
</tr>
<tr class="row-odd"><td>complete</td>
<td>Timestamp when task execution has completed.</td>
</tr>
<tr class="row-even"><td>duration</td>
<td>Time elapsed to complete since the submission.</td>
</tr>
<tr class="row-odd"><td>realtime</td>
<td>Task execution time i.e. delta between completion and start timestamp.</td>
</tr>
<tr class="row-even"><td>queue</td>
<td>The queue that the executor attempted to run the process on.</td>
</tr>
<tr class="row-odd"><td>%cpu</td>
<td>Percentage of CPU used by the process.</td>
</tr>
<tr class="row-even"><td>%mem</td>
<td>Percentage of memory used by the process.</td>
</tr>
<tr class="row-odd"><td>rss</td>
<td>Real memory (resident set) size of the process. Equivalent to <code class="docutils literal notranslate"><span class="pre">ps</span> <span class="pre">-o</span> <span class="pre">rss</span></code> .</td>
</tr>
<tr class="row-even"><td>vmem</td>
<td>Virtual memory size of the process. Equivalent to <code class="docutils literal notranslate"><span class="pre">ps</span> <span class="pre">-o</span> <span class="pre">vsize</span></code> .</td>
</tr>
<tr class="row-odd"><td>peak_rss</td>
<td>Peak of real memory. This data is read from field <code class="docutils literal notranslate"><span class="pre">VmHWM</span></code> in <code class="docutils literal notranslate"><span class="pre">/proc/$pid/status</span></code> file.</td>
</tr>
<tr class="row-even"><td>peak_vmem</td>
<td>Peak of virtual memory. This data is read from field <code class="docutils literal notranslate"><span class="pre">VmPeak</span></code> in <code class="docutils literal notranslate"><span class="pre">/proc/$pid/status</span></code> file.</td>
</tr>
<tr class="row-odd"><td>rchar</td>
<td>Number of bytes the process read, using any read-like system call from files, pipes, tty, etc. This data is read from file <code class="docutils literal notranslate"><span class="pre">/proc/$pid/io</span></code>.</td>
</tr>
<tr class="row-even"><td>wchar</td>
<td>Number of bytes the process wrote, using any write-like system call. This data is read from file <code class="docutils literal notranslate"><span class="pre">/proc/$pid/io</span></code>.</td>
</tr>
<tr class="row-odd"><td>syscr</td>
<td>Number of read-like system call invocations that the process performed. This data is read from file <code class="docutils literal notranslate"><span class="pre">/proc/$pid/io</span></code>.</td>
</tr>
<tr class="row-even"><td>syscw</td>
<td>Number of write-like system call invocations that the process performed. This data is read from file <code class="docutils literal notranslate"><span class="pre">/proc/$pid/io</span></code>.</td>
</tr>
<tr class="row-odd"><td>read_bytes</td>
<td>Number of bytes the process directly read from disk. This data is read from file <code class="docutils literal notranslate"><span class="pre">/proc/$pid/io</span></code>.</td>
</tr>
<tr class="row-even"><td>write_bytes</td>
<td>Number of bytes the process originally dirtied in the page-cache (assuming they will go to disk later). This data is read from file <code class="docutils literal notranslate"><span class="pre">/proc/$pid/io</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">These numbers provide an estimation of the resources used by running tasks. They should not be intended as an alternative
to low level performance analysis provided by other tools and they may not be fully accurate, in particular for very short-lived tasks
(running for less than one second).</p>
</div>
<p>Trace report layout and other configuration settings can be specified by using the <code class="docutils literal notranslate"><span class="pre">nextflow.config</span></code> configuration file.</p>
<p>Please read <a class="reference internal" href="config.html#config-trace"><span class="std std-ref">Trace scope</span></a> section to learn more about it.</p>
</div>
<div class="section" id="timeline-report">
<span id="id3"></span><h2>Timeline report<a class="headerlink" href="#timeline-report" title="永久链接至标题">¶</a></h2>
<p>Nextflow can render an HTML timeline for all processes executed in your pipeline. An example of the timeline
report is shown below:</p>
<img alt="../_images/timeline-min.png" src="../_images/timeline-min.png" />
<p>Each bar represents a process run in the pipeline execution. The bar length represents the task duration time (wall-time).
The colored area in each bar represents the real execution time. The grey area to the <em>left</em> of the colored area represents
the task scheduling wait time. The grey area to the <em>right</em> of the colored area represents the task termination time
(clean-up and file un-staging). The numbers on the x-axis represent the time in absolute units eg. minutes, hours, etc.</p>
<p>Each bar displays two numbers: the task duration time and the virtual memory size peak.</p>
<p>As each process can spawn many tasks, colors are used to identify those tasks belonging to the same process.</p>
<p>To enable the creation of the timeline report add the <code class="docutils literal notranslate"><span class="pre">-with-timeline</span></code> command line option when launching the pipeline
execution. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">run</span> <span class="o">&lt;</span><span class="n">pipeline</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">timeline</span> <span class="p">[</span><span class="n">file</span> <span class="n">name</span><span class="p">]</span>
</pre></div>
</div>
<p>The report file name can be specified as an optional parameter following the timeline option.</p>
</div>
<div class="section" id="dag-visualisation">
<span id="id4"></span><h2>DAG visualisation<a class="headerlink" href="#dag-visualisation" title="永久链接至标题">¶</a></h2>
<p>A Nextflow pipeline is implicitly modelled by a direct acyclic graph (DAG). The vertices in the graph represent
the pipeline’s processes and operators, while the edges represent the data connections (i.e. channels) between them.</p>
<p>The pipeline execution DAG can be outputted by adding the <code class="docutils literal notranslate"><span class="pre">-with-dag</span></code> option to the run command line.
It creates a file named <code class="docutils literal notranslate"><span class="pre">dag.dot</span></code> containing a textual representation of the pipeline execution graph
in the <a class="reference external" href="http://www.graphviz.org/content/dot-language">DOT format</a>.</p>
<p>The execution DAG can be rendered in a different format by specifying an output file name which has an extension
corresponding to the required format. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">run</span> <span class="o">&lt;</span><span class="n">script</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">dag</span> <span class="n">flowchart</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<p>List of supported file formats:</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extension</th>
<th class="head">File format</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>dot</td>
<td>Graphviz DOT file</td>
</tr>
<tr class="row-odd"><td>html</td>
<td>HTML file</td>
</tr>
<tr class="row-even"><td>pdf</td>
<td>PDF file (*)</td>
</tr>
<tr class="row-odd"><td>png</td>
<td>PNG file (*)</td>
</tr>
<tr class="row-even"><td>svg</td>
<td>SVG file (*)</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">The file formats marked with a <cite>*</cite> require the <a class="reference external" href="http://www.graphviz.org">Graphviz</a> tool installed
in your computer.</p>
</div>
<p>The DAG produced by Nextflow for the <a class="reference external" href="https://github.com/cbcrg/shootstrap/">Shootstrap</a> pipeline:</p>
<img alt="../_images/dag.png" src="../_images/dag.png" />
</div>
<div class="section" id="weblog-via-http">
<span id="weblog-service"></span><h2>Weblog via HTTP<a class="headerlink" href="#weblog-via-http" title="永久链接至标题">¶</a></h2>
<p>Nextflow is able to send detailed workflow execution metadata and runtime statistics to a HTTP endpoint.
To enable this feature use  the <code class="docutils literal notranslate"><span class="pre">-with-weblog</span></code> as shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">run</span> <span class="o">&lt;</span><span class="n">pipeline</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">weblog</span> <span class="p">[</span><span class="n">url</span><span class="p">]</span>
</pre></div>
</div>
<p>Workflow events are sent as HTTP POST requests to the given URL. The message is formatted using the
following JSON structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="s2">&quot;runName&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">run</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
     <span class="s2">&quot;runId&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">uuid</span><span class="o">&gt;</span><span class="p">,</span>
     <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">started</span><span class="o">|</span><span class="n">process_submitted</span><span class="o">|</span><span class="n">process_started</span><span class="o">|</span><span class="n">process_completed</span><span class="o">|</span><span class="n">error</span><span class="o">|</span><span class="n">completed</span><span class="o">&gt;</span><span class="p">,</span>
     <span class="s2">&quot;utcTime&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">UTC</span> <span class="n">timestamp</span><span class="o">&gt;</span><span class="p">,</span>
     <span class="s2">&quot;trace&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The JSON object contains the following attributes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>runName</td>
<td>The workflow execution run name.</td>
</tr>
<tr class="row-odd"><td>runId</td>
<td>The workflow execution unique ID.</td>
</tr>
<tr class="row-even"><td>event</td>
<td>The workflow execution event. One of <code class="docutils literal notranslate"><span class="pre">started</span></code>, <code class="docutils literal notranslate"><span class="pre">process_submitted</span></code>, <code class="docutils literal notranslate"><span class="pre">process_started</span></code>, <code class="docutils literal notranslate"><span class="pre">process_completed</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>, <code class="docutils literal notranslate"><span class="pre">completed</span></code>.</td>
</tr>
<tr class="row-odd"><td>utcTime</td>
<td>The UTC timestamp in ISO 8601 format.</td>
</tr>
<tr class="row-even"><td>trace</td>
<td>A process runtime information as described in the <a class="reference internal" href="#trace-fields"><span class="std std-ref">trace fields</span></a> section. This attribute is only provided for the following events: <code class="docutils literal notranslate"><span class="pre">process_submitted</span></code>, <code class="docutils literal notranslate"><span class="pre">process_started</span></code>, <code class="docutils literal notranslate"><span class="pre">process_completed</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">The content of the <code class="docutils literal notranslate"><span class="pre">trace</span></code> attribute depends on the settings for the <a class="reference external" href="trace-report">Trace report</a> defined in the
<code class="docutils literal notranslate"><span class="pre">nextflow.config</span></code> file. See the <a class="reference internal" href="config.html#config-trace"><span class="std std-ref">Trace configuration</span></a> section to learn more.</p>
</div>
<div class="section" id="weblog-submit-example-message">
<h3>Weblog Submit example message<a class="headerlink" href="#weblog-submit-example-message" title="永久链接至标题">¶</a></h3>
<p>When a workflow execution is a started a message like the following is posted to the specified end-point:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;runName&quot;</span><span class="p">:</span> <span class="s2">&quot;friendly_pesquet&quot;</span><span class="p">,</span>
  <span class="s2">&quot;runId&quot;</span><span class="p">:</span> <span class="s2">&quot;170aa09c-105f-49d0-99b4-8eb6a146e4a7&quot;</span><span class="p">,</span>
  <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;started&quot;</span><span class="p">,</span>
  <span class="s2">&quot;utcTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-10-07T11:42:08Z&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="weblog-completed-example-message">
<h3>Weblog Completed example message<a class="headerlink" href="#weblog-completed-example-message" title="永久链接至标题">¶</a></h3>
<p>Once a process is completed, a message like the following is posted to the specified end-point:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;runName&quot;</span><span class="p">:</span> <span class="s2">&quot;friendly_pesquet&quot;</span><span class="p">,</span>
  <span class="s2">&quot;runId&quot;</span><span class="p">:</span> <span class="s2">&quot;170aa09c-105f-49d0-99b4-8eb6a146e4a7&quot;</span><span class="p">,</span>
  <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;process_completed&quot;</span><span class="p">,</span>
  <span class="s2">&quot;utcTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-10-07T11:45:30Z&quot;</span><span class="p">,</span>
  <span class="s2">&quot;trace&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;task_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;COMPLETED&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;a1/0024fd&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;make_ot_config&quot;</span><span class="p">,</span>
      <span class="s2">&quot;exit&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;submit&quot;</span><span class="p">:</span> <span class="mi">1538912529498</span><span class="p">,</span>
      <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">1538912529629</span><span class="p">,</span>
      <span class="s2">&quot;process&quot;</span><span class="p">:</span> <span class="s2">&quot;make_ot_config&quot;</span><span class="p">,</span>
      <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;module&quot;</span><span class="p">:</span> <span class="p">[</span>

      <span class="p">],</span>
      <span class="s2">&quot;container&quot;</span><span class="p">:</span> <span class="s2">&quot;nfcore/hlatyping:1.1.1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;attempt&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    configbuilder --max-cpus 2 --solver glpk &gt; config.ini</span><span class="se">\n</span><span class="s2">    &quot;</span><span class="p">,</span>
      <span class="s2">&quot;scratch&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;workdir&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/sven1103/git/hlatyping-workflow/work/a1/0024fd028375e2b601aaed44d112e3&quot;</span><span class="p">,</span>
      <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;cpus&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="mi">7516192768</span><span class="p">,</span>
      <span class="s2">&quot;disk&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">7200000</span><span class="p">,</span>
      <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="s2">&quot;PATH=/home/sven1103/git/hlatyping-workflow/bin:$PATH</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;error_action&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
      <span class="s2">&quot;complete&quot;</span><span class="p">:</span> <span class="mi">1538912730599</span><span class="p">,</span>
      <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="mi">201101</span><span class="p">,</span>
      <span class="s2">&quot;realtime&quot;</span><span class="p">:</span> <span class="mi">69</span><span class="p">,</span>
      <span class="s2">&quot;</span><span class="si">%c</span><span class="s2">pu&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="s2">&quot;%mem&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
      <span class="s2">&quot;vmem&quot;</span><span class="p">:</span> <span class="mi">54259712</span><span class="p">,</span>
      <span class="s2">&quot;rss&quot;</span><span class="p">:</span> <span class="mi">10469376</span><span class="p">,</span>
      <span class="s2">&quot;peak_vmem&quot;</span><span class="p">:</span> <span class="mi">20185088</span><span class="p">,</span>
      <span class="s2">&quot;peak_rss&quot;</span><span class="p">:</span> <span class="mi">574972928</span><span class="p">,</span>
      <span class="s2">&quot;rchar&quot;</span><span class="p">:</span> <span class="mi">7597</span><span class="p">,</span>
      <span class="s2">&quot;wchar&quot;</span><span class="p">:</span> <span class="mi">162</span><span class="p">,</span>
      <span class="s2">&quot;syscr&quot;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
      <span class="s2">&quot;syscw&quot;</span><span class="p">:</span> <span class="mi">4083712</span><span class="p">,</span>
      <span class="s2">&quot;read_bytes&quot;</span><span class="p">:</span> <span class="mi">4096</span><span class="p">,</span>
      <span class="s2">&quot;write_bytes&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;native_id&quot;</span><span class="p">:</span> <span class="mi">27185</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sharing.html" class="btn btn-neutral float-right" title="Pipeline sharing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kubernetes.html" class="btn btn-neutral float-left" title="Kubernetes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, lidanqing

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>